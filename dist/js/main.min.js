const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),headerAccount=document.querySelector(".header-account"),aside=document.querySelector(".aside"),header=document.querySelector(".header");function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),i="object"==typeof e&&!!e.saveID,a=!0,s=!0;const r=function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}},c=function(e,s){if(a){a=!1;let c=document.querySelector(e);if(!c)return new Error(`Not found "${e}"`);c.classList.contains("popup")&&(c.style.display="flex",t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),r(),i&&history.pushState("","",e),setTimeout(()=>{if(s)c.classList.add("_transition-none"),c.classList.add("_active"),a=!0;else{c.classList.add("_active"),c.addEventListener("transitionend",(function e(){a=!0,c.removeEventListener("transitionend",e)}))}},0))}},n=function(e){if(s){let a;s=!1,a="string"==typeof e?document.querySelector(e):e.closest(".popup"),a.classList.contains("_transition-none")&&a.classList.remove("_transition-none"),setTimeout(()=>{a.classList.remove("_active"),a.addEventListener("transitionend",(function e(){const c=document.querySelectorAll(".popup._active");c.length<1&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding","0px")),i&&(r(),c[c.length-1]&&history.pushState("","","#"+c[c.length-1].getAttribute("id"))),s=!0,a.style.display="none",a.removeEventListener("transitionend",e)}))},0)}};return{open:function(e){c(e)},close:function(e){n(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),c(o.getAttribute("href")));let i=e.closest(".popup-close");i&&n(i)})),t.addEventListener("keyup",(function(e){27==e.code&&document.querySelector(".popup._active")&&n(document.querySelector(".popup._active"))})),i){let e=new URL(window.location);e.hash&&c(e.hash,!0)}}}}const popup=new Popup({saveID:!0});popup.init();const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset,left:t.left+window.pageXOffset}}const imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),o=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==o.position&&e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});const accountChatMain=document.querySelector(".account-chat__main"),accountChatAside=document.querySelector(".account-chat__aside");body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});const o=t(".header__lang--target");o&&"desktop"!=getDeviceType()?o.classList.toggle("is-active"):!t(".header__lang")&&document.querySelector(".header__lang--target.is-active")&&document.querySelector(".header__lang--target.is-active").classList.remove("is-active");const i=t(".header-account__lang--target");i&&"desktop"!=getDeviceType()?i.classList.toggle("is-active"):!t(".header-account__lang")&&document.querySelector(".header-account__lang--target.is-active")&&document.querySelector(".header-account__lang--target.is-active").classList.remove("is-active");const a=t(".header__tel--target");a&&"desktop"!=getDeviceType()?a.classList.toggle("is-active"):!t(".header__tel")&&document.querySelector(".header__tel--target.is-active")&&document.querySelector(".header__tel--target.is-active").classList.remove("is-active");const s=t(".header__nav--list a");s&&-1!=s.getAttribute("href").indexOf("#")&&document.querySelector("#"+s.getAttribute("href").split("#").pop())&&(e.preventDefault(),document.querySelector("#"+s.getAttribute("href").split("#").pop()).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),history.pushState("","","#"+s.getAttribute("href").split("#").pop()));const r=t(".reviews__video--preview");r&&(r.classList.add("_play"),r.parentElement.querySelector("video").play());const c=t(".faq__target");c&&(c.closest(".faq__list").querySelector(".faq__target._active")&&(c.classList.contains("_active")||c.closest(".faq__list").querySelector(".faq__target._active").classList.remove("_active")),c.classList.toggle("_active"));let n=t(".scroll-to");if(n){let t;e.preventDefault(),t=document.querySelector(n.getAttribute("href")),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),t?t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}):body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}const l=t(".header-account__notification--target");l?l.classList.add("is-active"):!t(".header-account__notification")&&document.querySelector(".header-account__notification--target.is-active")&&document.querySelector(".header-account__notification--target.is-active").classList.remove("is-active");const d=t(".header-account__profile--target");d?d.classList.add("is-active"):!t(".header-account__profile")&&document.querySelector(".header-account__profile--target.is-active")&&document.querySelector(".header-account__profile--target.is-active").classList.remove("is-active");t(".header-account__open-aside--btn")&&aside.classList.add("is-active");t(".aside__close")&&aside.classList.remove("is-active");const u=t(".account-block__accordion-target");u&&u.classList.toggle("is-active");const p=t(".account-chat__aside-item");if(p&&accountChatMain){e.preventDefault();const t=p.closest("ul").querySelector(".is-active");t&&t.classList.remove("is-active"),p.classList.add("is-active"),windowSize>=1300?(accountChatMain.classList.remove("fade-in"),accountChatMain.classList.add("fade-out"),setTimeout(()=>{accountChatMain.classList.remove("fade-out"),accountChatMain.classList.add("fade-in")},500)):(accountChatAside.classList.add("is-loading"),setTimeout(()=>{accountChatMain.classList.remove("fade-out"),accountChatMain.classList.add("fade-in"),accountChatAside.classList.remove("is-loading"),window.scrollTo({left:0,top:getCoords(accountChatMain).top-30,behavior:"smooth"})},300))}if(t(".account-chat__forward")&&accountChatMain){e.preventDefault();const t=document.querySelector(".account-chat__aside-item.is-active");t&&t.classList.remove("is-active"),accountChatMain.classList.remove("fade-in"),accountChatMain.classList.add("fade-out"),window.scrollTo({left:0,top:getCoords(accountChatAside).top-30,behavior:"smooth"})}}));const pupils=document.querySelectorAll(".eye .eye-element");window.addEventListener("mousemove",e=>{pupils.forEach(t=>{const o=t.parentElement.offsetWidth-t.offsetWidth/2,i=getCoords(t);var a=(e.pageX-i.left)/(window.innerHeight/40),s=(e.pageY-i.top)/(window.innerHeight/40);a>o/4&&(a=o/4),-o/4>a&&(a=-o/4),s>o/3&&(s=o/3),s<-o/4&&(s=-o/4),a+="px",s+="px",t.setAttribute("data-x",a),t.setAttribute("data-y",s),t.style.transform="translate3d("+t.dataset.x+","+t.dataset.y+", 0px)"})});let windowSize=0;function resize(){header?html.style.setProperty("--height-header",header.offsetHeight+"px"):headerAccount&&html.style.setProperty("--height-header",headerAccount.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),windowSize=window.innerWidth}if(resize(),window.addEventListener("resize",resize),document.querySelector(".our-teachers__slider")){new Splide(".our-teachers__slider",{type:"loop",perPage:1,perMove:1,gap:30,easing:"ease",speed:700,pagination:!1,arrows:!0,mediaQuery:"min",breakpoints:{1300:{perPage:4},992:{perPage:3},768:{perPage:2}}}).mount()}if(document.querySelector(".reviews__slider")){const e=new Splide(".reviews__slider",{type:"fade",rewind:!0,perPage:1,easing:"ease",speed:700,arrows:!0,pagination:!1,breakpoints:{992:{},550:{}}});e.on("inactive",(function(e){e.slide.querySelector(".reviews__video--preview")&&e.slide.querySelector(".reviews__video video")&&(e.slide.querySelector(".reviews__video--preview").classList.remove("_play"),e.slide.querySelector(".reviews__video video").pause(),e.slide.querySelector(".reviews__video video").currentTime=0)})),e.mount()}if(document.querySelector(".reviews__slider-mob")){new Splide(".reviews__slider-mob",{type:"loop",perPage:1,speed:700,easing:"ease",arrows:!1,pagination:!1,gap:20,breakpoints:{992:{},550:{}}}).mount()}if(document.querySelector(".related-articles__slider")){new Splide(".related-articles__slider",{type:"loop",perPage:3,perMove:1,speed:700,easing:"ease",pagination:!1,gap:30,breakpoints:{992:{perPage:2},550:{perPage:1,gap:20}}}).mount()}document.querySelector(".student-awards__slider")&&document.querySelectorAll(".student-awards__slider").forEach(e=>{new Splide(e,{autoWidth:!0,gap:6,speed:500,easing:"ease",type:"loop",pagination:!1}).mount()}),document.querySelectorAll(".custom-select").forEach(e=>{new SlimSelect({select:e,settings:{showSearch:!1}})});const copyBtn=document.querySelectorAll(".copy-btn");copyBtn.forEach(e=>{new ClipboardJS(e).on("success",(function(t){e.classList.remove("is-copied"),setTimeout(()=>{e.classList.add("is-copied")},0)}))}),document.querySelectorAll(".account-chat__file").forEach(e=>{e.querySelector("input")&&e.querySelector("input").addEventListener("change",(function(t){let o="";Array.from(t.target.files).forEach((e,t)=>{o=0!=t?", "+e.name:e.name}),e.querySelector("span").querySelector("span").textContent=o}))});