function r(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jt(t,e,s){e&&r(t.prototype,e),s&&r(t,s),Object.defineProperty(t,"prototype",{writable:!1})}
/*!
 * Splide.js
 * Version  : 4.1.4
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */var n,t;n=this,t=function(){"use strict";var t="(prefers-reduced-motion: reduce)",e={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};function s(t){t.length=0}function n(t,e,s){return Array.prototype.slice.call(t,e,s)}function i(t){return t.bind.apply(t,[null].concat(n(arguments,1)))}function o(){}var r=setTimeout;function a(t){return requestAnimationFrame(t)}function l(t,e){return typeof e===t}function c(t){return!p(t)&&l("object",t)}var d=Array.isArray,u=i(l,"function"),h=i(l,"string"),f=i(l,"undefined");function p(t){return null===t}function g(t){try{return t instanceof(t.ownerDocument.defaultView||window).HTMLElement}catch(t){return!1}}function m(t){return d(t)?t:[t]}function v(t,e){m(t).forEach(e)}function b(t,e){return-1<t.indexOf(e)}function y(t,e){return t.push.apply(t,m(e)),t}function w(t,e,s){t&&v(e,(function(e){e&&t.classList[s?"add":"remove"](e)}))}function S(t,e){w(t,h(e)?e.split(" "):e,!0)}function E(t,e){v(e,t.appendChild.bind(t))}function L(t,e){v(t,(function(t){var s=(e||t).parentNode;s&&s.insertBefore(t,e)}))}function x(t,e){return g(t)&&(t.msMatchesSelector||t.matches).call(t,e)}function C(t,e){return t=t?n(t.children):[],e?t.filter((function(t){return x(t,e)})):t}function O(t,e){return e?C(t,e)[0]:t.firstElementChild}var A=Object.keys;function T(t,e,s){t&&(s?A(t).reverse():A(t)).forEach((function(s){"__proto__"!==s&&e(t[s],s)}))}function k(t){return n(arguments,1).forEach((function(e){T(e,(function(s,n){t[n]=e[n]}))})),t}function D(t){return n(arguments,1).forEach((function(e){T(e,(function(e,s){d(e)?t[s]=e.slice():c(e)?t[s]=D({},c(t[s])?t[s]:{},e):t[s]=e}))})),t}function P(t,e){v(e||A(t),(function(e){delete t[e]}))}function M(t,e){v(t,(function(t){v(e,(function(e){t&&t.removeAttribute(e)}))}))}function N(t,e,s){c(e)?T(e,(function(e,s){N(t,s,e)})):v(t,(function(t){p(s)||""===s?M(t,e):t.setAttribute(e,String(s))}))}function I(t,e,s){return t=document.createElement(t),e&&(h(e)?S:N)(t,e),s&&E(s,t),t}function H(t,e,s){if(f(s))return getComputedStyle(t)[e];p(s)||(t.style[e]=""+s)}function j(t,e){H(t,"display",e)}function F(t){t.setActive&&t.setActive()||t.focus({preventScroll:!0})}function B(t,e){return t.getAttribute(e)}function R(t,e){return t&&t.classList.contains(e)}function z(t){return t.getBoundingClientRect()}function V(t){v(t,(function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}))}function _(t){return O((new DOMParser).parseFromString(t,"text/html").body)}function q(t,e){t.preventDefault(),e&&(t.stopPropagation(),t.stopImmediatePropagation())}function U(t,e){return t&&t.querySelector(e)}function G(t,e){return e?n(t.querySelectorAll(e)):[]}function X(t,e){w(t,e,!1)}function W(t){return t.timeStamp}function Y(t){return h(t)?t:t?t+"px":""}var J="splide",K="data-"+J;function $(t,e){if(!t)throw new Error("[splide] "+(e||""))}var Q=Math.min,Z=Math.max,tt=Math.floor,et=Math.ceil,st=Math.abs;function nt(t,e,s){return st(t-e)<s}function it(t,e,s,n){var i=Q(e,s);e=Z(e,s);return n?i<t&&t<e:i<=t&&t<=e}function ot(t,e,s){var n=Q(e,s);e=Z(e,s);return Q(Z(n,t),e)}function rt(t){return(0<t)-(t<0)}function at(t,e){return v(e,(function(e){t=t.replace("%s",""+e)})),t}function lt(t){return t<10?"0"+t:""+t}var ct={};function dt(){var t=[];function e(t,e,s){v(t,(function(t){t&&v(e,(function(e){e.split(" ").forEach((function(e){e=e.split("."),s(t,e[0],e[1])}))}))}))}return{bind:function(s,n,i,o){e(s,n,(function(e,s,n){var r="addEventListener"in e,a=r?e.removeEventListener.bind(e,s,i,o):e.removeListener.bind(e,i);r?e.addEventListener(s,i,o):e.addListener(i),t.push([e,s,n,i,a])}))},unbind:function(s,n,i){e(s,n,(function(e,s,n){t=t.filter((function(t){return!!(t[0]!==e||t[1]!==s||t[2]!==n||i&&t[3]!==i)||(t[4](),!1)}))}))},dispatch:function(t,e,s){var n;return"function"==typeof CustomEvent?n=new CustomEvent(e,{bubbles:!0,detail:s}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!1,s),t.dispatchEvent(n),n},destroy:function(){t.forEach((function(t){t[4]()})),s(t)}}}var ut="mounted",ht="move",ft="moved",pt="refresh",gt="updated",mt="resize",vt="resized",bt="scroll",yt="scrolled",wt="destroy",St="navigation:mounted",Et="autoplay:play",Lt="autoplay:pause",xt="lazyload:loaded";function Ct(t){var e=t?t.event.bus:document.createDocumentFragment(),s=dt();return t&&t.event.on(wt,s.destroy),k(s,{bus:e,on:function(t,n){s.bind(e,m(t).join(" "),(function(t){n.apply(n,d(t.detail)?t.detail:[])}))},off:i(s.unbind,e),emit:function(t){s.dispatch(e,t,n(arguments,1))}})}function Ot(t,e,s,n){var i,o,r=Date.now,l=0,c=!0,d=0;function u(){if(!c){if(l=t?Q((r()-i)/t,1):1,s&&s(l),1<=l&&(e(),i=r(),n&&++d>=n))return h();o=a(u)}}function h(){c=!0}function f(){o&&cancelAnimationFrame(o),c=!(o=l=0)}return{start:function(e){e||f(),i=r()-(e?l*t:0),c=!1,o=a(u)},rewind:function(){i=r(),l=0,s&&s(l)},pause:h,cancel:f,set:function(e){t=e},isPaused:function(){return c}}}var At,Tt,kt=(At="Arrow")+"Left",Dt=At+"Right",Pt=At+"Up",Mt="ttb",Nt={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[Pt,Dt],ArrowRight:[At=At+"Down",kt]},It="role",Ht="tabindex",jt=(Tt="aria-")+"controls",Ft=Tt+"current",Bt=Tt+"selected",Rt=Tt+"label",zt=Tt+"labelledby",Vt=Tt+"hidden",_t=Tt+"orientation",qt=Tt+"roledescription",Ut=Tt+"live",Gt=Tt+"busy",Xt=Tt+"atomic",Wt=[It,Ht,"disabled",jt,Ft,Rt,zt,Vt,_t,qt],Yt=J,Kt=(Tt=J+"__")+"track",$t=Tt+"list",Qt=Tt+"slide",Zt=Qt+"--clone",te=Qt+"__container",ee=Tt+"arrows",se=Tt+"arrow",ne=se+"--prev",ie=se+"--next",oe=Tt+"pagination",re=oe+"__page",ae=Tt+"progress__bar",le=Tt+"toggle",ce=Tt+"sr",de="is-active",ue="is-prev",he="is-next",fe="is-visible",pe="is-loading",ge="is-focus-in",me="is-overflow",ve=[de,fe,ue,he,pe,ge,me],be="touchstart mousedown",ye="touchmove mousemove",we="touchend touchcancel mouseup click",Se="slide",Ee="loop",Le="fade";var xe={passive:!1,capture:!0},Ce={Spacebar:" ",Right:Dt,Left:kt,Up:Pt,Down:At};function Oe(t){return t=h(t)?t:t.key,Ce[t]||t}var Ae="keydown",Te=K+"-lazy",ke=Te+"-srcset",De=[" ","Enter"],Pe=Object.freeze({__proto__:null,Media:function(e,s,n){var i=e.state,o=n.breakpoints||{},r=n.reducedMotion||{},a=dt(),l=[];function c(t){t&&a.destroy()}function d(t,e){e=matchMedia(e),a.bind(e,"change",u),l.push([t,e])}function u(){var t=i.is(7),s=n.direction,o=l.reduce((function(t,e){return D(t,e[1].matches?e[0]:{})}),{});P(n),h(o),n.destroy?e.destroy("completely"===n.destroy):t?(c(!0),e.mount()):s!==n.direction&&e.refresh()}function h(t,s,o){D(n,t),s&&D(Object.getPrototypeOf(n),t),!o&&i.is(1)||e.emit(gt,n)}return{setup:function(){var e="min"===n.mediaQuery;A(o).sort((function(t,s){return e?+t-+s:+s-+t})).forEach((function(t){d(o[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),d(r,t),u()},destroy:c,reduce:function(e){matchMedia(t).matches&&(e?D(n,r):P(n,A(r)))},set:h}},Direction:function(t,e,s){return{resolve:function(t,e,n){var i="rtl"!==(n=n||s.direction)||e?n===Mt?0:-1:1;return Nt[t]&&Nt[t][i]||t.replace(/width|left|right/i,(function(t,e){return t=Nt[t.toLowerCase()][i]||t,0<e?t.charAt(0).toUpperCase()+t.slice(1):t}))},orient:function(t){return t*("rtl"===s.direction?1:-1)}}},Elements:function(t,e,n){var i,o,r,a=Ct(t),l=a.on,c=a.bind,d=t.root,h=n.i18n,f={},p=[],g=[],m=[];function v(){i=L("."+Kt),o=O(i,"."+$t),$(i&&o,"A track/list element is missing."),y(p,C(o,"."+Qt+":not(."+Zt+")")),T({arrows:ee,pagination:oe,prev:ne,next:ie,bar:ae,toggle:le},(function(t,e){f[e]=L("."+t)})),k(f,{root:d,track:i,list:o,slides:p});var t=d.id||function(t){return""+t+lt(ct[t]=(ct[t]||0)+1)}(J),e=n.role;d.id=t,i.id=i.id||t+"-track",o.id=o.id||t+"-list",!B(d,It)&&"SECTION"!==d.tagName&&e&&N(d,It,e),N(d,qt,h.carousel),N(o,It,"presentation"),E()}function b(t){var e=Wt.concat("style");s(p),X(d,g),X(i,m),M([i,o],e),M(d,t?e:["style",qt])}function E(){X(d,g),X(i,m),g=A(Yt),m=A(Kt),S(d,g),S(i,m),N(d,Rt,n.label),N(d,zt,n.labelledby)}function L(t){return(t=U(d,t))&&function(t,e){if(u(t.closest))return t.closest(e);for(var s=t;s&&1===s.nodeType&&!x(s,e);)s=s.parentElement;return s}(t,"."+Yt)===d?t:void 0}function A(t){return[t+"--"+n.type,t+"--"+n.direction,n.drag&&t+"--draggable",n.isNavigation&&t+"--nav",t===Yt&&de]}return k(f,{setup:v,mount:function(){l(pt,b),l(pt,v),l(gt,E),c(document,be+" keydown",(function(t){r="keydown"===t.type}),{capture:!0}),c(d,"focusin",(function(){w(d,ge,!!r)}))},destroy:b})},Slides:function(t,e,n){var o=Ct(t),r=o.on,a=o.emit,l=o.bind,c=(o=e.Elements).slides,d=o.list,f=[];function p(){c.forEach((function(t,e){C(t,e,-1)}))}function y(){T((function(t){t.destroy()})),s(f)}function C(e,s,n){(s=function(t,e,s,n){var o,r=Ct(t),a=r.on,l=r.emit,c=r.bind,d=t.Components,u=t.root,h=t.options,f=h.isNavigation,p=h.updateOnMove,g=h.i18n,m=h.pagination,v=h.slideFocus,b=d.Direction.resolve,y=B(n,"style"),S=B(n,Rt),E=-1<s,L=O(n,"."+te);function x(){var i=t.splides.map((function(t){return(t=t.splide.Components.Slides.getAt(e))?t.slide.id:""})).join(" ");N(n,Rt,at(g.slideX,(E?s:e)+1)),N(n,jt,i),N(n,It,v?"button":""),v&&M(n,qt)}function C(){o||A()}function A(){var s,i,r;o||(s=t.index,(r=T())!==R(n,de)&&(w(n,de,r),N(n,Ft,f&&r||""),l(r?"active":"inactive",k)),i=!(r=function(){if(t.is(Le))return T();var e=z(d.Elements.track),s=z(n),i=b("left",!0),o=b("right",!0);return tt(e[i])<=et(s[i])&&tt(s[o])<=et(e[o])}())&&(!T()||E),t.state.is([4,5])||N(n,Vt,i||""),N(G(n,h.focusableNodes||""),Ht,i?-1:""),v&&N(n,Ht,i?-1:0),r!==R(n,fe)&&(w(n,fe,r),l(r?"visible":"hidden",k)),r||document.activeElement!==n||(i=d.Slides.getAt(t.index))&&F(i.slide),w(n,ue,e===s-1),w(n,he,e===s+1))}function T(){var n=t.index;return n===e||h.cloneStatus&&n===s}var k={index:e,slideIndex:s,slide:n,container:L,isClone:E,mount:function(){E||(n.id=u.id+"-slide"+lt(e+1),N(n,It,m?"tabpanel":"group"),N(n,qt,g.slide),N(n,Rt,S||at(g.slideLabel,[e+1,t.length]))),c(n,"click",i(l,"click",k)),c(n,"keydown",i(l,"sk",k)),a([ft,"sh",yt],A),a(St,x),p&&a(ht,C)},destroy:function(){o=!0,r.destroy(),X(n,ve),M(n,Wt),N(n,"style",y),N(n,Rt,S||"")},update:A,style:function(t,e,s){H(s&&L||n,t,e)},isWithin:function(s,n){return s=st(s-e),(s=E||!h.rewind&&!t.is(Ee)?s:Q(s,t.length-s))<=n}};return k}(t,s,n,e)).mount(),f.push(s),f.sort((function(t,e){return t.index-e.index}))}function A(t){return t?k((function(t){return!t.isClone})):f}function T(t,e){A(e).forEach(t)}function k(t){return f.filter(u(t)?t:function(e){return h(t)?x(e.slide,t):b(m(t),e.index)})}return{mount:function(){p(),r(pt,y),r(pt,p)},destroy:y,update:function(){T((function(t){t.update()}))},register:C,get:A,getIn:function(t){var s=e.Controller,i=s.toIndex(t),o=s.hasFocus()?1:n.perPage;return k((function(t){return it(t.index,i,i+o-1)}))},getAt:function(t){return k(t)[0]},add:function(t,e){v(t,(function(t){var s,o,r;g(t=h(t)?_(t):t)&&((s=c[e])?L(t,s):E(d,t),S(t,n.classes.slide),s=t,o=i(a,mt),s=G(s,"img"),(r=s.length)?s.forEach((function(t){l(t,"load error",(function(){--r||o()}))})):o())})),a(pt)},remove:function(t){V(k(t).map((function(t){return t.slide}))),a(pt)},forEach:T,filter:k,style:function(t,e,s){T((function(n){n.style(t,e,s)}))},getLength:function(t){return(t?c:f).length},isEnough:function(){return f.length>n.perPage}}},Layout:function(t,e,s){var n,o,r,a=(u=Ct(t)).on,l=u.bind,d=u.emit,u=e.Slides,h=e.Direction.resolve,f=(e=e.Elements).root,p=e.track,g=e.list,m=u.getAt,v=u.style;function b(){n=s.direction===Mt,H(f,"maxWidth",Y(s.width)),H(p,h("paddingLeft"),S(!1)),H(p,h("paddingRight"),S(!0)),y(!0)}function y(t){var e=z(f);!t&&o.width===e.width&&o.height===e.height||(H(p,"height",function(){var t="";return n&&($(t=E(),"height or heightRatio is missing."),t="calc("+t+" - "+S(!1)+" - "+S(!0)+")"),t}()),v(h("marginRight"),Y(s.gap)),v("width",s.autoWidth?null:Y(s.fixedWidth)||(n?"":L())),v("height",Y(s.fixedHeight)||(n?s.autoHeight?null:L():E()),!0),o=e,d(vt),r!==(r=k())&&(w(f,me,r),d("overflow",r)))}function S(t){var e=s.padding;t=h(t?"right":"left");return e&&Y(e[t]||(c(e)?0:e))||"0px"}function E(){return Y(s.height||z(g).width*s.heightRatio)}function L(){var t=Y(s.gap);return"calc((100%"+(t&&" + "+t)+")/"+(s.perPage||1)+(t&&" - "+t)+")"}function x(){return z(g)[h("width")]}function C(t,e){return(t=m(t||0))?z(t.slide)[h("width")]+(e?0:T()):0}function O(t,e){var s;return(t=m(t))?(t=z(t.slide)[h("right")],s=z(g)[h("left")],st(t-s)+(e?0:T())):0}function A(e){return O(t.length-1)-O(0)+C(0,e)}function T(){var t=m(0);return t&&parseFloat(H(t.slide,h("marginRight")))||0}function k(){return t.is(Le)||A(!0)>x()}return{mount:function(){var t,e;b(),l(window,"resize load",(t=i(d,mt),e=Ot(0,t,null,1),function(){e.isPaused()&&e.start()})),a([gt,pt],b),a(mt,y)},resize:y,listSize:x,slideSize:C,sliderSize:A,totalSize:O,getPadding:function(t){return parseFloat(H(p,h("padding"+(t?"Right":"Left"))))||0},isOverflow:k}},Clones:function(t,e,n){var i,o=Ct(t),r=o.on,a=e.Elements,l=e.Slides,c=e.Direction.resolve,d=[];function u(){if(r(pt,h),r([gt,mt],g),i=m()){var s=i,o=l.get().slice(),c=o.length;if(c){for(;o.length<s;)y(o,o);y(o.slice(-s),o.slice(0,s)).forEach((function(e,i){var r=i<s,u=function(e,s){return S(e=e.cloneNode(!0),n.classes.clone),e.id=t.root.id+"-clone"+lt(s+1),e}(e.slide,i);r?L(u,o[0].slide):E(a.list,u),y(d,u),l.register(u,i-s+(r?0:c),e.index)}))}e.Layout.resize(!0)}}function h(){p(),u()}function p(){V(d),s(d),o.destroy()}function g(){var t=m();i!==t&&(i<t||!t)&&o.emit(pt)}function m(){var s,i=n.clones;return t.is(Ee)?f(i)&&(i=(s=n[c("fixedWidth")]&&e.Layout.slideSize(0))&&et(z(a.track)[c("width")]/s)||n[c("autoWidth")]&&t.length||2*n.perPage):i=0,i}return{mount:u,destroy:p}},Move:function(t,e,s){var n,i=Ct(t),o=i.on,r=i.emit,a=t.state.set,l=(i=e.Layout).slideSize,c=i.getPadding,d=i.totalSize,u=i.listSize,h=i.sliderSize,p=(i=e.Direction).resolve,g=i.orient,m=(i=e.Elements).list,v=i.track;function b(){e.Controller.isBusy()||(e.Scroll.cancel(),y(t.index),e.Slides.update())}function y(t){w(x(t,!0))}function w(s,n){t.is(Le)||(n=n?s:function(s){var n,i;return t.is(Ee)&&(i=(n=L(s))>e.Controller.getEnd(),(n<0||i)&&(s=S(s,i))),s}(s),H(m,"transform","translate"+p("X")+"("+n+"px)"),s!==n&&r("sh"))}function S(t,e){var s=t-O(e),n=h();return t-g(n*(et(st(s)/n)||1))*(e?1:-1)}function E(){w(C(),!0),n.cancel()}function L(t){for(var s=e.Slides.get(),n=0,i=1/0,o=0;o<s.length;o++){var r=s[o].index,a=st(x(r,!0)-t);if(!(a<=i))break;i=a,n=r}return n}function x(e,n){var i=g(d(e-1)-(e=e,"center"===(i=s.focus)?(u()-l(e,!0))/2:+i*l(e)||0));return n?(e=i,e=s.trimSpace&&t.is(Se)?ot(e,0,g(h(!0)-u())):e):i}function C(){var t=p("left");return z(m)[t]-z(v)[t]+g(c(!1))}function O(t){return x(t?e.Controller.getEnd():0,!!s.trimSpace)}return{mount:function(){n=e.Transition,o([ut,vt,gt,pt],b)},move:function(t,e,s,i){var o,l;t!==e&&(o=s<t,l=g(S(C(),o)),o?0<=l:l<=m[p("scrollWidth")]-z(v)[p("width")])&&(E(),w(S(C(),s<t),!0)),a(4),r(ht,e,s,t),n.start(e,(function(){a(3),r(ft,e,s,t),i&&i()}))},jump:y,translate:w,shift:S,cancel:E,toIndex:L,toPosition:x,getPosition:C,getLimit:O,exceededLimit:function(t,e){e=f(e)?C():e;var s=!0!==t&&g(e)<g(O(!1));t=!1!==t&&g(e)>g(O(!0));return s||t},reposition:b}},Controller:function(t,e,s){var n,o,r,a,l=Ct(t),c=l.on,d=l.emit,u=e.Move,p=u.getPosition,g=u.getLimit,m=u.toPosition,v=(l=e.Slides).isEnough,b=l.getLength,y=s.omitEnd,w=t.is(Ee),S=t.is(Se),E=i(T,!1),L=i(T,!0),x=s.start||0,C=x;function O(){o=b(!0),r=s.perMove,a=s.perPage,n=P();var t=ot(x,0,y?n:o-1);t!==x&&(x=t,u.reposition())}function A(){n!==P()&&d("ei")}function T(t,e){var s=r||(H()?1:a);return-1===(s=k(x+s*(t?-1:1),x,!(r||H())))&&S&&!nt(p(),g(!t),1)?t?0:n:e?s:D(s)}function k(e,i,l){var c;return v()||H()?((c=function(e){if(S&&"move"===s.trimSpace&&e!==x)for(var n=p();n===m(e,!0)&&it(e,0,t.length-1,!s.rewind);)e<x?--e:++e;return e}(e))!==e&&(i=e,e=c,l=!1),e<0||n<e?e=r||!it(0,e,i,!0)&&!it(n,i,e,!0)?w?l?e<0?-(o%a||a):o:e:s.rewind?e<0?n:0:-1:M(N(e)):l&&e!==i&&(e=M(N(i)+(e<i?-1:1)))):e=-1,e}function D(t){return w?(t+o)%o||0:t}function P(){for(var t=o-(H()||w&&r?1:a);y&&0<t--;)if(m(o-1,!0)!==m(t,!0)){t++;break}return ot(t,0,o-1)}function M(t){return ot(H()?t:a*t,0,n)}function N(t){return H()?Q(t,n):tt((n<=t?o-1:t)/a)}function I(t){t!==x&&(C=x,x=t)}function H(){return!f(s.focus)||s.isNavigation}function j(){return t.state.is([4,5])&&!!s.waitForTransition}return{mount:function(){O(),c([gt,pt,"ei"],O),c(vt,A)},go:function(t,e,s){var i;j()||-1<(i=D(t=function(t){var e,s,i=x;return h(t)?(e=(s=t.match(/([+\-<>])(\d+)?/)||[])[1],s=s[2],"+"===e||"-"===e?i=k(x+ +(""+e+(+s||1)),x):">"===e?i=s?M(+s):E(!0):"<"===e&&(i=L(!0))):i=w?t:ot(t,0,n),i}(t)))&&(e||i!==x)&&(I(i),u.move(t,i,C,s))},scroll:function(t,s,i,o){e.Scroll.scroll(t,s,i,(function(){var t=D(u.toIndex(p()));I(y?Q(t,n):t),o&&o()}))},getNext:E,getPrev:L,getAdjacent:T,getEnd:P,setIndex:I,getIndex:function(t){return t?C:x},toIndex:M,toPage:N,toDest:function(t){return t=u.toIndex(t),S?ot(t,0,n):t},hasFocus:H,isBusy:j}},Arrows:function(t,e,s){var n,o,r=Ct(t),a=r.on,l=r.bind,c=r.emit,d=s.classes,u=s.i18n,h=e.Elements,f=e.Controller,p=h.arrows,g=h.track,m=p,v=h.prev,b=h.next,y={};function w(){var t=s.arrows;!t||v&&b||(m=p||I("div",d.arrows),v=A(!0),b=A(!1),n=!0,E(m,[v,b]),p||L(m,g)),v&&b&&(k(y,{prev:v,next:b}),j(m,t?"":"none"),S(m,o=ee+"--"+s.direction),t&&(a([ut,ft,pt,yt,"ei"],T),l(b,"click",i(O,">")),l(v,"click",i(O,"<")),T(),N([v,b],jt,g.id),c("arrows:mounted",v,b))),a(gt,x)}function x(){C(),w()}function C(){r.destroy(),X(m,o),n?(V(p?[v,b]:m),v=b=null):M([v,b],Wt)}function O(t){f.go(t,!0)}function A(t){return _('<button class="'+d.arrow+" "+(t?d.prev:d.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(s.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function T(){var e,s,n,i;v&&b&&(i=t.index,e=f.getPrev(),s=f.getNext(),n=-1<e&&i<e?u.last:u.prev,i=-1<s&&s<i?u.first:u.next,v.disabled=e<0,b.disabled=s<0,N(v,Rt,n),N(b,Rt,i),c("arrows:updated",v,b,e,s))}return{arrows:y,mount:w,destroy:C,update:T}},Autoplay:function(t,e,s){var n,i,o=Ct(t),r=o.on,a=o.bind,l=o.emit,c=Ot(s.interval,t.go.bind(t,">"),(function(t){var e=u.bar;e&&H(e,"width",100*t+"%"),l("autoplay:playing",t)})),d=c.isPaused,u=e.Elements,h=(o=e.Elements).root,f=o.toggle,p=s.autoplay,g="pause"===p;function m(){d()&&e.Slides.isEnough()&&(c.start(!s.resetProgress),i=n=g=!1,y(),l(Et))}function v(t){g=!!(t=void 0===t||t),y(),d()||(c.pause(),l(Lt))}function b(){g||(n||i?v(!1):m())}function y(){f&&(w(f,de,!g),N(f,Rt,s.i18n[g?"play":"pause"]))}function S(t){t=e.Slides.getAt(t),c.set(t&&+B(t.slide,"data-splide-interval")||s.interval)}return{mount:function(){p&&(s.pauseOnHover&&a(h,"mouseenter mouseleave",(function(t){n="mouseenter"===t.type,b()})),s.pauseOnFocus&&a(h,"focusin focusout",(function(t){i="focusin"===t.type,b()})),f&&a(f,"click",(function(){g?m():v(!0)})),r([ht,bt,pt],c.rewind),r(ht,S),f&&N(f,jt,u.track.id),g||m(),y())},destroy:c.cancel,play:m,pause:v,isPaused:d}},Cover:function(t,e,s){var n=Ct(t).on;function o(t){e.Slides.forEach((function(e){var s=O(e.container||e.slide,"img");s&&s.src&&r(t,s,e)}))}function r(t,e,s){s.style("background",t?'center/cover no-repeat url("'+e.src+'")':"",!0),j(e,t?"none":"")}return{mount:function(){s.cover&&(n(xt,i(r,!0)),n([ut,gt,pt],i(o,!0)))},destroy:i(o,!1)}},Scroll:function(t,e,s){var n,o,r=Ct(t),a=r.on,l=r.emit,c=t.state.set,d=e.Move,u=d.getPosition,h=d.getLimit,f=d.exceededLimit,p=d.translate,g=t.is(Se),m=1;function v(t,s,r,a,h){var p,v=u();w(),!r||g&&f()||(r=e.Layout.sliderSize(),p=rt(t)*r*tt(st(t)/r)||0,t=d.toPosition(e.Controller.toDest(t%r))+p),r=nt(v,t,1);m=1,s=r?0:s||Z(st(t-v)/1.5,800),o=a,n=Ot(s,b,i(y,v,t,h),1),c(5),l(bt),n.start()}function b(){c(3),o&&o(),l(yt)}function y(t,e,n,i){var r=u();i=(t+(e-t)*(e=i,(t=s.easingFunc)?t(e):1-Math.pow(1-e,4))-r)*m;p(r+i),g&&!n&&f()&&(m*=.6,st(i)<10&&v(h(f(!0)),600,!1,o,!0))}function w(){n&&n.cancel()}function S(){n&&!n.isPaused()&&(w(),b())}return{mount:function(){a(ht,w),a([gt,pt],S)},destroy:w,scroll:v,cancel:S}},Drag:function(t,e,s){var n,i,r,a,l,d,u,h,f=Ct(t),p=f.on,g=f.emit,m=f.bind,v=f.unbind,b=t.state,y=e.Move,w=e.Scroll,S=e.Controller,E=e.Elements.track,L=e.Media.reduce,C=(f=e.Direction).resolve,O=f.orient,A=y.getPosition,T=y.exceededLimit,k=!1;function D(){var t=s.drag;V(!t),a="free"===t}function P(t){var e,n,i;d=!1,u||(e=z(t),n=t.target,i=s.noDrag,x(n,"."+re+", ."+se)||i&&x(n,i)||!e&&t.button||(S.isBusy()?q(t,!0):(h=e?E:window,l=b.is([4,5]),r=null,m(h,ye,M,xe),m(h,we,N,xe),y.cancel(),w.cancel(),H(t))))}function M(e){var i,o,r,a,u;b.is(6)||(b.set(6),g("drag")),e.cancelable&&(l?(y.translate(n+j(e)/(k&&t.is(Se)?5:1)),u=200<F(e),i=k!==(k=T()),(u||i)&&H(e),d=!0,g("dragging"),q(e)):st(j(u=e))>st(j(u,!0))&&(i=e,a=(r=c(o=s.dragMinThreshold))&&o.mouse||0,r=(r?o.touch:+o)||10,l=st(j(i))>(z(i)?r:a),q(e)))}function N(n){var i,o,r;b.is(6)&&(b.set(3),g("dragged")),l&&(o=function(t){return A()+rt(t)*Q(st(t)*(s.flickPower||600),a?1/0:e.Layout.listSize()*(s.flickMaxPages||1))}(i=function(e){if(t.is(Ee)||!k){var s=F(e);if(s&&s<200)return j(e)/s}return 0}(i=n)),r=s.rewind&&s.rewindByDrag,L(!1),a?S.scroll(o,0,s.snap):t.is(Le)?S.go(O(rt(i))<0?r?"<":"-":r?">":"+"):t.is(Se)&&k&&r?S.go(T(!0)?">":"<"):S.go(S.toDest(o),!0),L(!0),q(n)),v(h,ye,M),v(h,we,N),l=!1}function I(t){!u&&d&&q(t,!0)}function H(t){r=i,i=t,n=A()}function j(t,e){return R(t,e)-R(B(t),e)}function F(t){return W(t)-W(B(t))}function B(t){return i===t&&r||i}function R(t,e){return(z(t)?t.changedTouches[0]:t)["page"+C(e?"Y":"X")]}function z(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent}function V(t){u=t}return{mount:function(){m(E,ye,o,xe),m(E,we,o,xe),m(E,be,P,xe),m(E,"click",I,{capture:!0}),m(E,"dragstart",q),p([ut,gt],D)},disable:V,isDragging:function(){return l}}},Keyboard:function(t,e,s){var n,i,o=Ct(t),a=o.on,l=o.bind,c=o.unbind,d=t.root,u=e.Direction.resolve;function h(){var t=s.keyboard;t&&(n="global"===t?window:d,l(n,Ae,g))}function f(){c(n,Ae)}function p(){var t=i;i=!0,r((function(){i=t}))}function g(e){i||((e=Oe(e))===u(kt)?t.go("<"):e===u(Dt)&&t.go(">"))}return{mount:function(){h(),a(gt,f),a(gt,h),a(ht,p)},destroy:f,disable:function(t){i=t}}},LazyLoad:function(t,e,n){var o=Ct(t),r=o.on,a=o.off,l=o.bind,c=o.emit,d="sequential"===n.lazyLoad,u=[ft,yt],h=[];function f(){s(h),e.Slides.forEach((function(t){G(t.slide,"[data-splide-lazy], [data-splide-lazy-srcset]").forEach((function(e){var s=B(e,Te),i=B(e,ke);s===e.src&&i===e.srcset||(s=n.classes.spinner,s=O(i=e.parentElement,"."+s)||I("span",s,i),h.push([e,t,s]),e.src||j(e,"none"))}))})),(d?v:(a(u),r(u,p),p))()}function p(){(h=h.filter((function(e){var s=n.perPage*((n.preloadPages||1)+1)-1;return!e[1].isWithin(t.index,s)||g(e)}))).length||a(u)}function g(t){var e=t[0];S(t[1].slide,pe),l(e,"load error",i(m,t)),N(e,"src",B(e,Te)),N(e,"srcset",B(e,ke)),M(e,Te),M(e,ke)}function m(t,e){var s=t[0],n=t[1];X(n.slide,pe),"error"!==e.type&&(V(t[2]),j(s,""),c(xt,s,n),c(mt)),d&&v()}function v(){h.length&&g(h.shift())}return{mount:function(){n.lazyLoad&&(f(),r(pt,f))},destroy:i(s,h),check:p}},Pagination:function(t,e,o){var r,a,l=Ct(t),c=l.on,d=l.emit,u=l.bind,h=e.Slides,f=e.Elements,p=e.Controller,g=p.hasFocus,m=p.getIndex,v=p.go,b=e.Direction.resolve,y=f.pagination,w=[];function E(){r&&(V(y?n(r.children):r),X(r,a),s(w),r=null),l.destroy()}function L(t){v(">"+t,!0)}function x(t,e){var s=w.length,n=Oe(e),i=C(),o=-1;(i=(n===b(Dt,!1,i)?o=++t%s:n===b(kt,!1,i)?o=(--t+s)%s:"Home"===n?o=0:"End"===n&&(o=s-1),w[o]))&&(F(i.button),v(">"+o),q(e,!0))}function C(){return o.paginationDirection||o.direction}function O(t){return w[p.toPage(t)]}function A(){var t,e=O(m(!0)),s=O(m());e&&(X(t=e.button,de),M(t,Bt),N(t,Ht,-1)),s&&(S(t=s.button,de),N(t,Bt,!0),N(t,Ht,"")),d("pagination:updated",{list:r,items:w},e,s)}return{items:w,mount:function e(){E(),c([gt,pt,"ei"],e);var s=o.pagination;if(y&&j(y,s?"":"none"),s){c([ht,bt,yt],A);s=t.length;var n=o.classes,l=o.i18n,m=o.perPage,v=g()?p.getEnd()+1:et(s/m);S(r=y||I("ul",n.pagination,f.track.parentElement),a=oe+"--"+C()),N(r,It,"tablist"),N(r,Rt,l.select),N(r,_t,C()===Mt?"vertical":"");for(var b=0;b<v;b++){var T=I("li",null,r),k=I("button",{class:n.page,type:"button"},T),D=h.getIn(b).map((function(t){return t.slide.id})),P=!g()&&1<m?l.pageX:l.slideX;u(k,"click",i(L,b)),o.paginationKeyboard&&u(k,"keydown",i(x,b)),N(T,It,"presentation"),N(k,It,"tab"),N(k,jt,D.join(" ")),N(k,Rt,at(P,b+1)),N(k,Ht,-1),w.push({li:T,button:k,page:b})}A(),d("pagination:mounted",{list:r,items:w},O(t.index))}},destroy:E,getAt:O,update:A}},Sync:function(t,e,n){var o=n.isNavigation,r=n.slideFocus,a=[];function l(){var e,s;t.splides.forEach((function(e){e.isParent||(d(t,e.splide),d(e.splide,t))})),o&&((s=(e=Ct(t)).on)("click",h),s("sk",p),s([ut,gt],u),a.push(e),e.emit(St,t.splides))}function c(){a.forEach((function(t){t.destroy()})),s(a)}function d(t,e){(t=Ct(t)).on(ht,(function(t,s,n){e.go(e.is(Ee)?n:t)})),a.push(t)}function u(){N(e.Elements.list,_t,n.direction===Mt?"vertical":"")}function h(e){t.go(e.index)}function p(t,e){b(De,Oe(e))&&(h(t),q(e))}return{setup:i(e.Media.set,{slideFocus:f(r)?o:r},!0),mount:l,destroy:c,remount:function(){c(),l()}}},Wheel:function(t,e,s){var n=Ct(t).bind,i=0;function o(n){var o,r,a,l,c;n.cancelable&&(o=(c=n.deltaY)<0,r=W(n),a=s.wheelMinThreshold||0,l=s.wheelSleep||0,st(c)>a&&l<r-i&&(t.go(o?"<":">"),i=r),c=o,s.releaseWheel&&!t.state.is(4)&&-1===e.Controller.getAdjacent(c)||q(n))}return{mount:function(){s.wheel&&n(e.Elements.track,"wheel",o,xe)}}},Live:function(t,e,s){var n=Ct(t).on,o=e.Elements.track,r=s.live&&!s.isNavigation,a=I("span",ce),l=Ot(90,i(c,!1));function c(t){N(o,Gt,t),t?(E(o,a),l.start()):(V(a),l.cancel())}function d(t){r&&N(o,Ut,t?"off":"polite")}return{mount:function(){r&&(d(!e.Autoplay.isPaused()),N(o,Xt,!0),a.textContent="…",n(Et,i(d,!0)),n(Lt,i(d,!1)),n([ft,yt],i(c,!0)))},disable:d,destroy:function(){M(o,[Ut,Xt,Gt]),V(a)}}}}),Me={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:{slide:Qt,clone:Zt,arrows:ee,arrow:se,prev:ne,next:ie,pagination:oe,page:re,spinner:Tt+"spinner"},i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Ne(t,e,s){var n=e.Slides;function i(){n.forEach((function(t){t.style("transform","translateX(-"+100*t.index+"%)")}))}return{mount:function(){Ct(t).on([ut,pt],i)},start:function(t,e){n.style("transition","opacity "+s.speed+"ms "+s.easing),r(e)},cancel:o}}function Ie(t,e,s){var n,o=e.Move,r=e.Controller,a=e.Scroll,l=e.Elements.list,c=i(H,l,"transition");function d(){c(""),a.cancel()}return{mount:function(){Ct(t).bind(l,"transitionend",(function(t){t.target===l&&n&&(d(),n())}))},start:function(e,i){var l=o.toPosition(e,!0),d=o.getPosition(),u=function(e){var n=s.rewindSpeed;if(t.is(Se)&&n){var i=r.getIndex(!0),o=r.getEnd();if(0===i&&o<=e||o<=i&&0===e)return n}return s.speed}(e);1<=st(l-d)&&1<=u?s.useScroll?a.scroll(l,u,!1,i):(c("transform "+u+"ms "+s.easing),o.translate(l,!0),n=i):(o.jump(e),i())},cancel:d}}return(Pt=function(){function t(e,s){this.event=Ct(),this.Components={},this.state=function(t){var e=t;return{set:function(t){e=t},is:function(t){return b(m(t),e)}}}(1),this.splides=[],this.n={},this.t={},$(e=h(e)?U(document,e):e,e+" is invalid."),s=D({label:B(this.root=e,Rt)||"",labelledby:B(e,zt)||""},Me,t.defaults,s||{});try{D(s,JSON.parse(B(e,K)))}catch(e){$(!1,"Invalid JSON")}this.n=Object.create(D({},s))}var e=t.prototype;return e.mount=function(t,e){var s=this,n=this.state,i=this.Components;return $(n.is([1,7]),"Already mounted!"),n.set(1),this.i=i,this.r=e||this.r||(this.is(Le)?Ne:Ie),this.t=t||this.t,T(k({},Pe,this.t,{Transition:this.r}),(function(t,e){t=t(s,i,s.n),(i[e]=t).setup&&t.setup()})),T(i,(function(t){t.mount&&t.mount()})),this.emit(ut),S(this.root,"is-initialized"),n.set(3),this.emit("ready"),this},e.sync=function(t){return this.splides.push({splide:t}),t.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this.i.Sync.remount(),t.Components.Sync.remount()),this},e.go=function(t){return this.i.Controller.go(t),this},e.on=function(t,e){return this.event.on(t,e),this},e.off=function(t){return this.event.off(t),this},e.emit=function(t){var e;return(e=this.event).emit.apply(e,[t].concat(n(arguments,1))),this},e.add=function(t,e){return this.i.Slides.add(t,e),this},e.remove=function(t){return this.i.Slides.remove(t),this},e.is=function(t){return this.n.type===t},e.refresh=function(){return this.emit(pt),this},e.destroy=function(t){void 0===t&&(t=!0);var e=this.event,n=this.state;return n.is(1)?Ct(this).on("ready",this.destroy.bind(this,t)):(T(this.i,(function(e){e.destroy&&e.destroy(t)}),!0),e.emit(wt),e.destroy(),t&&s(this.splides),n.set(7)),this},Jt(t,[{key:"options",get:function(){return this.n},set:function(t){this.i.Media.set(t,!0,!0)}},{key:"length",get:function(){return this.i.Slides.getLength(!0)}},{key:"index",get:function(){return this.i.Controller.getIndex()}}]),t}()).defaults={},Pt.STATES=e,Pt},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).Splide=t(),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,(function(){return e={686:function(t,e,s){"use strict";s.d(e,{default:function(){return m}});e=s(279);var n=s.n(e),i=(e=s(370),s.n(e)),o=(e=s(817),s.n(e));function r(t){try{return document.execCommand(t)}catch(t){return}}var a=function(t){return t=o()(t),r("cut"),t};function l(t,e){var s,n;s=t,n="rtl"===document.documentElement.getAttribute("dir"),(t=document.createElement("textarea")).style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style[n?"right":"left"]="-9999px",n=window.pageYOffset||document.documentElement.scrollTop,t.style.top="".concat(n,"px"),t.setAttribute("readonly",""),t.value=s,t=t;return e.container.appendChild(t),e=o()(t),r("copy"),t.remove(),e}var c=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{container:document.body},s="";return"string"==typeof t?s=l(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==t?void 0:t.type)?s=l(t.value,e):(s=o()(t),r("copy")),s};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if(t="data-clipboard-".concat(t),e.hasAttribute(t))return e.getAttribute(t)}var m=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(r,n());var t,e,s,o=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,n=p(t);return s=e?(s=p(this).constructor,Reflect.construct(n,arguments,s)):n.apply(this,arguments),n=this,!(s=s)||"object"!==u(s)&&"function"!=typeof s?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):s}}(r);function r(t,e){var s;return function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(s=o.call(this)).resolveOptions(e),s.listenClick(t),s}return t=r,s=[{key:"copy",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{container:document.body};return c(t,e)}},{key:"cut",value:function(t){return a(t)}},{key:"isSupported",value:function(){var t="string"==typeof(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"])?[t]:t,e=!!document.queryCommandSupported;return t.forEach((function(t){e=e&&!!document.queryCommandSupported(t)})),e}}],(e=[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===u(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=i()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,s=this.action(e)||"copy";t=function(){var t=void 0===(s=(n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).action)?"copy":s,e=n.container,s=n.target,n=n.text;if("copy"!==t&&"cut"!==t)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==s){if(!s||"object"!==d(s)||1!==s.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===t&&s.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===t&&(s.hasAttribute("readonly")||s.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return n?c(n,{container:e}):s?"cut"===t?a(s):c(s,{container:e}):void 0}({action:s,container:this.container,target:this.target(e),text:this.text(e)});this.emit(t?"success":"error",{action:s,text:t,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return g("action",t)}},{key:"defaultTarget",value:function(t){if(t=g("target",t))return document.querySelector(t)}},{key:"defaultText",value:function(t){return g("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}])&&h(t.prototype,e),s&&h(t,s),r}()},828:function(t){var e;"undefined"==typeof Element||Element.prototype.matches||((e=Element.prototype).matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector),t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},438:function(t,e,s){var n=s(828);function i(t,e,s,i,o){var r=function(t,e,s,i){return function(s){s.delegateTarget=n(s.target,e),s.delegateTarget&&i.call(t,s)}}.apply(this,arguments);return t.addEventListener(s,r,o),{destroy:function(){t.removeEventListener(s,r,o)}}}t.exports=function(t,e,s,n,o){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof s?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return i(t,e,s,n,o)})))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var s=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===s||"[object HTMLCollection]"===s)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,s){var n=s(879),i=s(438);t.exports=function(t,e,s){if(!t&&!e&&!s)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(s))throw new TypeError("Third argument must be a Function");if(n.node(t))return c=e,d=s,(l=t).addEventListener(c,d),{destroy:function(){l.removeEventListener(c,d)}};if(n.nodeList(t))return o=t,r=e,a=s,Array.prototype.forEach.call(o,(function(t){t.addEventListener(r,a)})),{destroy:function(){Array.prototype.forEach.call(o,(function(t){t.removeEventListener(r,a)}))}};if(n.string(t))return t=t,e=e,s=s,i(document.body,t,e,s);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,r,a,l,c,d}},817:function(t){t.exports=function(t){var e,s="SELECT"===t.nodeName?(t.focus(),t.value):"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((e=t.hasAttribute("readonly"))||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),e||t.removeAttribute("readonly"),t.value):(t.hasAttribute("contenteditable")&&t.focus(),s=window.getSelection(),(e=document.createRange()).selectNodeContents(t),s.removeAllRanges(),s.addRange(e),s.toString());return s}},279:function(t){function e(){}e.prototype={on:function(t,e,s){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:s}),this},once:function(t,e,s){var n=this;function i(){n.off(t,i),e.apply(s,arguments)}return i._=e,this.on(t,i,s)},emit:function(t){for(var e=[].slice.call(arguments,1),s=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=s.length;n<i;n++)s[n].fn.apply(s[n].ctx,e);return this},off:function(t,e){var s=this.e||(this.e={}),n=s[t],i=[];if(n&&e)for(var o=0,r=n.length;o<r;o++)n[o].fn!==e&&n[o].fn._!==e&&i.push(n[o]);return i.length?s[t]=i:delete s[t],this}},t.exports=e,t.exports.TinyEmitter=e}},s={},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,{a:s}),s},t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t(686).default;function t(n){if(s[n])return s[n].exports;var i=s[n]={exports:{}};return e[n](i,i.exports,t),i.exports}var e,s})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SlimSelect=e()}(this,(function(){"use strict";function t(){return Math.random().toString(36).substring(2,10)}function e(t,e=50,s=!1){let n;return function(...i){const o=self,r=s&&!n;clearTimeout(n),n=setTimeout(()=>{n=null,s||t.apply(o,i)},e),r&&t.apply(o,i)}}function s(t,e){return JSON.stringify(t)===JSON.stringify(e)}class n{constructor(e){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,e||(e={}),this.id="ss-"+t(),this.style=e.style||"",this.class=e.class||[],this.disabled=void 0!==e.disabled&&e.disabled,this.alwaysOpen=void 0!==e.alwaysOpen&&e.alwaysOpen,this.showSearch=void 0===e.showSearch||e.showSearch,this.searchPlaceholder=e.searchPlaceholder||"Search",this.searchText=e.searchText||"No Results",this.searchingText=e.searchingText||"Searching...",this.searchHighlight=void 0!==e.searchHighlight&&e.searchHighlight,this.closeOnSelect=void 0===e.closeOnSelect||e.closeOnSelect,this.contentLocation=e.contentLocation||document.body,this.contentPosition=e.contentPosition||"absolute",this.openPosition=e.openPosition||"auto",this.placeholderText=void 0!==e.placeholderText?e.placeholderText:"Select Value",this.allowDeselect=void 0!==e.allowDeselect&&e.allowDeselect,this.hideSelected=void 0!==e.hideSelected&&e.hideSelected,this.showOptionTooltips=void 0!==e.showOptionTooltips&&e.showOptionTooltips,this.minSelected=e.minSelected||0,this.maxSelected=e.maxSelected||1e3,this.timeoutDelay=e.timeoutDelay||200,this.maxValuesShown=e.maxValuesShown||20,this.maxValuesMessage=e.maxValuesMessage||"{number} selected"}}class i{constructor(e){if(this.id=e.id&&""!==e.id?e.id:t(),this.label=e.label||"",this.selectAll=void 0!==e.selectAll&&e.selectAll,this.selectAllText=e.selectAllText||"Select All",this.closable=e.closable||"off",this.options=[],e.options)for(const t of e.options)this.options.push(new o(t))}}class o{constructor(e){this.id=e.id&&""!==e.id?e.id:t(),this.value=void 0===e.value?e.text:e.value,this.text=e.text||"",this.html=e.html||"",this.selected=void 0!==e.selected&&e.selected,this.display=void 0===e.display||e.display,this.disabled=void 0!==e.disabled&&e.disabled,this.mandatory=void 0!==e.mandatory&&e.mandatory,this.placeholder=void 0!==e.placeholder&&e.placeholder,this.class=e.class||"",this.style=e.style||"",this.data=e.data||{}}}class r{constructor(t,e){this.selectType="single",this.data=[],this.selectType=t,this.setData(e)}validateDataArray(t){if(!Array.isArray(t))return new Error("Data must be an array");for(let e of t){if(!(e instanceof i||"label"in e))return e instanceof o||"text"in e?this.validateOption(e):new Error("Data object must be a valid optgroup or option");if(!("label"in e))return new Error("Optgroup must have a label");if("options"in e&&e.options)for(let t of e.options)return this.validateOption(t)}return null}validateOption(t){return"text"in t?null:new Error("Option must have a text")}partialToFullData(t){let e=[];return t.forEach(t=>{if(t instanceof i||"label"in t){let s=[];"options"in t&&t.options&&t.options.forEach(t=>{s.push(new o(t))}),s.length>0&&e.push(new i(t))}(t instanceof o||"text"in t)&&e.push(new o(t))}),e}setData(t){this.data=this.partialToFullData(t),"single"===this.selectType&&this.setSelectedBy("value",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(t){this.setData(this.getData().concat(new o(t)))}setSelectedBy(t,e){let s=null,n=!1;for(let r of this.data){if(r instanceof i)for(let i of r.options)s||(s=i),i.selected=!n&&e.includes(i[t]),i.selected&&"single"===this.selectType&&(n=!0);r instanceof o&&(s||(s=r),r.selected=!n&&e.includes(r[t]),r.selected&&"single"===this.selectType&&(n=!0))}"single"===this.selectType&&s&&!n&&(s.selected=!0)}getSelected(){let t=this.getSelectedOptions(),e=[];return t.forEach(t=>{e.push(t.value)}),e}getSelectedOptions(){return this.filter(t=>t.selected,!1)}getSelectedIDs(){let t=this.getSelectedOptions(),e=[];return t.forEach(t=>{e.push(t.id)}),e}getOptgroupByID(t){for(let e of this.data)if(e instanceof i&&e.id===t)return e;return null}getOptionByID(t){let e=this.filter(e=>e.id===t,!1);return e.length?e[0]:null}search(t,e){return""===(t=t.trim())?this.getData():this.filter(s=>e(s,t),!0)}filter(t,e){const s=[];return this.data.forEach(n=>{if(n instanceof i){let r=[];if(n.options.forEach(n=>{t&&!t(n)||(e?r.push(new o(n)):s.push(new o(n)))}),r.length>0){let t=new i(n);t.options=r,s.push(t)}}n instanceof o&&(t&&!t(n)||s.push(new o(n)))}),s}getSelectType(){return this.selectType}}class a{constructor(t,e,s){this.classes={main:"ss-main",placeholder:"ss-placeholder",values:"ss-values",single:"ss-single",max:"ss-max",value:"ss-value",valueText:"ss-value-text",valueDelete:"ss-value-delete",valueOut:"ss-value-out",deselect:"ss-deselect",deselectPath:"M10,10 L90,90 M10,90 L90,10",arrow:"ss-arrow",arrowClose:"M10,30 L50,70 L90,30",arrowOpen:"M10,70 L50,30 L90,70",content:"ss-content",openAbove:"ss-open-above",openBelow:"ss-open-below",search:"ss-search",searchHighlighter:"ss-search-highlight",searching:"ss-searching",addable:"ss-addable",addablePath:"M50,10 L50,90 M10,50 L90,50",list:"ss-list",optgroup:"ss-optgroup",optgroupLabel:"ss-optgroup-label",optgroupLabelText:"ss-optgroup-label-text",optgroupActions:"ss-optgroup-actions",optgroupSelectAll:"ss-selectall",optgroupSelectAllBox:"M60,10 L10,10 L10,90 L90,90 L90,50",optgroupSelectAllCheck:"M30,45 L50,70 L90,10",optgroupClosable:"ss-closable",option:"ss-option",optionDelete:"M10,10 L90,90 M10,90 L90,10",highlighted:"ss-highlighted",open:"ss-open",close:"ss-close",selected:"ss-selected",error:"ss-error",disabled:"ss-disabled",hide:"ss-hide"},this.store=e,this.settings=t,this.callbacks=s,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add("up"===this.settings.openPosition?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const t=this.store.getSelectedOptions();if(t.length){const e=t[t.length-1].id,s=this.content.list.querySelector('[data-id="'+e+'"]');s&&this.ensureElementInView(this.content.list,s)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),""!==this.settings.style&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const t of this.settings.class)""!==t.trim()&&(this.main.main.classList.add(t.trim()),this.content.main.classList.add(t.trim()));"relative"===this.settings.contentPosition&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var t;const e=document.createElement("div");e.dataset.id=this.settings.id,e.id=this.settings.id,e.tabIndex=0,e.onkeydown=t=>{switch(t.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),"ArrowDown"===t.key?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const e=this.content.list.querySelector("."+this.classes.highlighted);return e&&e.click(),!1;case"Escape":return this.callbacks.close(),!1}},e.onclick=t=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const s=document.createElement("div");s.classList.add(this.classes.values),e.appendChild(s);const n=document.createElement("div");n.classList.add(this.classes.deselect);const i=null===(t=this.store)||void 0===t?void 0:t.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&i&&i.length<=0?n.classList.add(this.classes.hide):n.classList.remove(this.classes.hide),n.onclick=t=>{if(t.stopPropagation(),this.settings.disabled)return;let e=!0;const s=this.store.getSelectedOptions(),n=[];this.callbacks.beforeChange&&(e=!0===this.callbacks.beforeChange(n,s)),e&&(this.settings.isMultiple?(this.callbacks.setSelected([],!1),this.updateDeselectAll()):this.callbacks.setSelected([""],!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(n))};const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.classes.deselectPath),o.appendChild(r),n.appendChild(o),e.appendChild(n);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.classList.add(this.classes.arrow),a.setAttribute("viewBox","0 0 100 100");const l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&a.classList.add(this.classes.hide),a.appendChild(l),e.appendChild(a),{main:e,values:s,deselect:{main:n,svg:o,path:r},arrow:{main:a,path:l}}}mainFocus(t){"click"!==t&&this.main.main.focus({preventScroll:!0})}placeholder(){const t=this.store.filter(t=>t.placeholder,!1);let e=this.settings.placeholderText;t.length&&(""!==t[0].html?e=t[0].html:""!==t[0].text&&(e=t[0].text));const s=document.createElement("div");return s.classList.add(this.classes.placeholder),s.innerHTML=e,s}renderValues(){this.settings.isMultiple?this.renderMultipleValues():this.renderSingleValue()}renderSingleValue(){const t=this.store.filter(t=>t.selected&&!t.placeholder,!1),e=t.length>0?t[0]:null;if(e){const t=document.createElement("div");t.classList.add(this.classes.single),e.html?t.innerHTML=e.html:t.innerText=e.text,this.main.values.innerHTML=t.outerHTML}else this.main.values.innerHTML=this.placeholder().outerHTML;this.settings.allowDeselect&&t.length?this.main.deselect.main.classList.remove(this.classes.hide):this.main.deselect.main.classList.add(this.classes.hide)}renderMultipleValues(){let t=this.main.values.childNodes,e=this.store.filter(t=>t.selected&&t.display,!1);if(0===e.length)return void(this.main.values.innerHTML=this.placeholder().outerHTML);{const t=this.main.values.querySelector("."+this.classes.placeholder);t&&t.remove()}if(e.length>this.settings.maxValuesShown){const t=document.createElement("div");return t.classList.add(this.classes.max),t.textContent=this.settings.maxValuesMessage.replace("{number}",e.length.toString()),void(this.main.values.innerHTML=t.outerHTML)}{const t=this.main.values.querySelector("."+this.classes.max);t&&t.remove()}let s=[];for(let n=0;n<t.length;n++){const i=t[n],o=i.getAttribute("data-id");o&&(e.filter(t=>t.id===o,!1).length||s.push(i))}for(const t of s)t.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(t)&&this.main.values.removeChild(t)},100);t=this.main.values.childNodes;for(let s=0;s<e.length;s++){let n=!0;for(let i=0;i<t.length;i++)e[s].id===String(t[i].dataset.id)&&(n=!1);n&&(0===t.length?this.main.values.appendChild(this.multipleValue(e[s])):0===s?this.main.values.insertBefore(this.multipleValue(e[s]),t[s]):t[s-1].insertAdjacentElement("afterend",this.multipleValue(e[s])))}this.updateDeselectAll()}multipleValue(t){const e=document.createElement("div");e.classList.add(this.classes.value),e.dataset.id=t.id;const s=document.createElement("div");if(s.classList.add(this.classes.valueText),s.innerText=t.text,e.appendChild(s),!t.mandatory){const s=document.createElement("div");s.classList.add(this.classes.valueDelete),s.onclick=e=>{if(e.preventDefault(),e.stopPropagation(),this.settings.disabled)return;let s=!0;const n=this.store.getSelectedOptions(),r=n.filter(e=>e.selected&&e.id!==t.id,!0);if(!(this.settings.minSelected&&r.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(s=!0===this.callbacks.beforeChange(r,n)),s)){let t=[];for(const e of r){if(e instanceof i)for(const s of e.options)t.push(s.value);e instanceof o&&t.push(e.value)}this.callbacks.setSelected(t,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(r),this.updateDeselectAll()}};const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 100 100");const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.classes.optionDelete),n.appendChild(r),s.appendChild(n),e.appendChild(s)}return e}contentDiv(){const t=document.createElement("div");t.dataset.id=this.settings.id,t.id=this.settings.id;const e=this.searchDiv();t.appendChild(e.main);const s=this.listDiv();return t.appendChild(s),{main:t,search:e,list:s}}moveContent(){"relative"!==this.settings.contentPosition&&"down"!==this.settings.openPosition?"up"!==this.settings.openPosition?"up"===this.putContent()?this.moveContentAbove():this.moveContentBelow():this.moveContentAbove():this.moveContentBelow()}searchDiv(){const t=document.createElement("div"),s=document.createElement("input"),n=document.createElement("div");t.classList.add(this.classes.search);const i={main:t,input:s};if(this.settings.showSearch||(t.classList.add(this.classes.hide),s.readOnly=!0),s.type="search",s.placeholder=this.settings.searchPlaceholder,s.tabIndex=-1,s.setAttribute("aria-label",this.settings.searchPlaceholder),s.setAttribute("autocapitalize","off"),s.setAttribute("autocomplete","off"),s.setAttribute("autocorrect","off"),s.oninput=e(t=>{this.callbacks.search(t.target.value)},100),s.onkeydown=t=>{switch(t.key){case"ArrowUp":case"ArrowDown":return"ArrowDown"===t.key?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case"Enter":case" ":if(this.callbacks.addable&&t.ctrlKey)return n.click(),!1;{const t=this.content.list.querySelector("."+this.classes.highlighted);if(t)return t.click(),!1}return!0}},t.appendChild(s),this.callbacks.addable){n.classList.add(this.classes.addable);const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 100 100");const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",this.classes.addablePath),e.appendChild(s),n.appendChild(e),n.onclick=t=>{if(t.preventDefault(),t.stopPropagation(),!this.callbacks.addable)return;const e=this.content.search.input.value.trim();if(""===e)return void this.content.search.input.focus();const s=t=>{let e=new o(t);if(this.callbacks.addOption(e),this.settings.isMultiple){let t=this.store.getSelected();t.push(e.value),this.callbacks.setSelected(t,!0)}else this.callbacks.setSelected([e.value],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},n=this.callbacks.addable(e);!1!==n&&null!=n&&(n instanceof Promise?n.then(t=>{s("string"==typeof t?{text:t,value:t}:t)}):s("string"==typeof n?{text:n,value:n}:n))},t.appendChild(n),i.addable={main:n,svg:e,path:s}}return i}searchFocus(){this.content.search.input.focus()}getOptions(t=!1,e=!1,s=!1){let n="."+this.classes.option;return t&&(n+=":not(."+this.classes.placeholder+")"),e&&(n+=":not(."+this.classes.disabled+")"),s&&(n+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(n))}highlight(t){const e=this.getOptions(!0,!0,!0);if(0!==e.length)if(1!==e.length||e[0].classList.contains(this.classes.highlighted)){for(let s=0;s<e.length;s++)if(e[s].classList.contains(this.classes.highlighted)){const n=e[s];n.classList.remove(this.classes.highlighted);const i=n.parentElement;if(i&&i.classList.contains(this.classes.open)){const t=i.querySelector("."+this.classes.optgroupLabel);t&&t.click()}let o=e["down"===t?s+1<e.length?s+1:0:s-1>=0?s-1:e.length-1];o.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,o);const r=o.parentElement;if(r&&r.classList.contains(this.classes.close)){const t=r.querySelector("."+this.classes.optgroupLabel);t&&t.click()}return}e["down"===t?0:e.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,e["down"===t?0:e.length-1])}else e[0].classList.add(this.classes.highlighted)}listDiv(){const t=document.createElement("div");return t.classList.add(this.classes.list),t}renderError(t){this.content.list.innerHTML="";const e=document.createElement("div");e.classList.add(this.classes.error),e.textContent=t,this.content.list.appendChild(e)}renderSearching(){this.content.list.innerHTML="";const t=document.createElement("div");t.classList.add(this.classes.searching),t.textContent=this.settings.searchingText,this.content.list.appendChild(t)}renderOptions(t){if(this.content.list.innerHTML="",0===t.length){const t=document.createElement("div");return t.classList.add(this.classes.search),t.innerHTML=this.settings.searchText,void this.content.list.appendChild(t)}for(const e of t){if(e instanceof i){const t=document.createElement("div");t.classList.add(this.classes.optgroup);const s=document.createElement("div");s.classList.add(this.classes.optgroupLabel),t.appendChild(s);const n=document.createElement("div");n.classList.add(this.classes.optgroupLabelText),n.textContent=e.label,s.appendChild(n);const i=document.createElement("div");if(i.classList.add(this.classes.optgroupActions),s.appendChild(i),this.settings.isMultiple&&e.selectAll){const t=document.createElement("div");t.classList.add(this.classes.optgroupSelectAll);let s=!0;for(const t of e.options)if(!t.selected){s=!1;break}s&&t.classList.add(this.classes.selected);const n=document.createElement("span");n.textContent=e.selectAllText,t.appendChild(n);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100"),t.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.classes.optgroupSelectAllBox),o.appendChild(r);const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.classes.optgroupSelectAllCheck),o.appendChild(a),t.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const n=this.store.getSelected();if(s){const t=n.filter(t=>{for(const s of e.options)if(t===s.value)return!1;return!0});this.callbacks.setSelected(t,!0)}else{const t=n.concat(e.options.map(t=>t.value));for(const t of e.options)this.store.getOptionByID(t.id)||this.callbacks.addOption(t);this.callbacks.setSelected(t,!0)}}),i.appendChild(t)}if("off"!==e.closable){const n=document.createElement("div");n.classList.add(this.classes.optgroupClosable);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100"),o.classList.add(this.classes.arrow),n.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","path");o.appendChild(r),e.options.some(t=>t.selected)||""!==this.content.search.input.value.trim()?(n.classList.add(this.classes.open),r.setAttribute("d",this.classes.arrowOpen)):"open"===e.closable?(t.classList.add(this.classes.open),r.setAttribute("d",this.classes.arrowOpen)):"close"===e.closable&&(t.classList.add(this.classes.close),r.setAttribute("d",this.classes.arrowClose)),s.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),t.classList.contains(this.classes.close)?(t.classList.remove(this.classes.close),t.classList.add(this.classes.open),r.setAttribute("d",this.classes.arrowOpen)):(t.classList.remove(this.classes.open),t.classList.add(this.classes.close),r.setAttribute("d",this.classes.arrowClose))}),i.appendChild(n)}t.appendChild(s);for(const s of e.options)t.appendChild(this.option(s));this.content.list.appendChild(t)}e instanceof o&&this.content.list.appendChild(this.option(e))}}option(t){if(t.placeholder){const t=document.createElement("div");return t.classList.add(this.classes.option),t.classList.add(this.classes.hide),t}const e=document.createElement("div");return e.dataset.id=t.id,e.id=t.id,e.classList.add(this.classes.option),e.setAttribute("role","option"),t.class&&t.class.split(" ").forEach(t=>{e.classList.add(t)}),t.style&&(e.style.cssText=t.style),this.settings.searchHighlight&&""!==this.content.search.input.value.trim()?e.innerHTML=this.highlightText(""!==t.html?t.html:t.text,this.content.search.input.value,this.classes.searchHighlighter):""!==t.html?e.innerHTML=t.html:e.textContent=t.text,this.settings.showOptionTooltips&&e.textContent&&e.setAttribute("title",e.textContent),t.display||e.classList.add(this.classes.hide),t.disabled&&e.classList.add(this.classes.disabled),t.selected&&this.settings.hideSelected&&e.classList.add(this.classes.hide),t.selected?(e.classList.add(this.classes.selected),e.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",e.id)):(e.classList.remove(this.classes.selected),e.setAttribute("aria-selected","false")),e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const s=this.store.getSelected(),n=e.currentTarget,i=String(n.dataset.id);if(t.disabled||t.selected&&!this.settings.allowDeselect)return;if(this.settings.isMultiple&&this.settings.maxSelected<=s.length&&!t.selected||this.settings.isMultiple&&this.settings.minSelected>=s.length&&t.selected)return;let o=!1;const r=this.store.getSelectedOptions();let a=[];this.settings.isMultiple&&(a=t.selected?r.filter(t=>t.id!==i):r.concat(t)),this.settings.isMultiple||(a=t.selected?[]:[t]),this.callbacks.beforeChange||(o=!0),this.callbacks.beforeChange&&(o=!1!==this.callbacks.beforeChange(a,r)),o&&(this.store.getOptionByID(i)||this.callbacks.addOption(t),this.callbacks.setSelected(a.map(t=>t.value),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(a))}),e}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(t,e,s){let n=t;const i=new RegExp("("+e.trim()+")(?![^<]*>[^<>]*</)","i");if(!t.match(i))return t;const o=t.match(i).index,r=o+t.match(i)[0].toString().length,a=t.substring(o,r);return n=n.replace(i,`<mark class="${s}">${a}</mark>`),n}moveContentAbove(){const t=this.main.main.offsetHeight,e=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const s=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(t+e-1)+"px 0px 0px 0px",this.content.main.style.top=s.top+s.height+window.scrollY+"px",this.content.main.style.left=s.left+window.scrollX+"px",this.content.main.style.width=s.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const t=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px","relative"!==this.settings.contentPosition&&(this.content.main.style.top=t.top+t.height+window.scrollY+"px",this.content.main.style.left=t.left+window.scrollX+"px",this.content.main.style.width=t.width+"px")}ensureElementInView(t,e){const s=t.scrollTop+t.offsetTop,n=s+t.clientHeight,i=e.offsetTop,o=i+e.clientHeight;i<s?t.scrollTop-=s-i:o>n&&(t.scrollTop+=o-n)}putContent(){const t=this.main.main.offsetHeight,e=this.main.main.getBoundingClientRect(),s=this.content.main.offsetHeight;return window.innerHeight-(e.top+t)<=s&&e.top>s?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const t=this.store.getSelectedOptions(),e=t&&t.length>0,s=this.settings.isMultiple,n=this.settings.allowDeselect,i=this.main.deselect.main,o=this.classes.hide;!n||s&&!e?i.classList.add(o):i.classList.remove(o)}}class l{constructor(t){this.listen=!1,this.observer=null,this.select=t,this.select.addEventListener("change",this.valueChange.bind(this),{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(t){this.listen=t,t&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),t||this.observer&&this.observer.disconnect()}valueChange(t){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedValues()),!0}observeCall(t){if(!this.listen)return;let e=!1,s=!1,n=!1;for(const i of t)i.target===this.select&&("disabled"===i.attributeName&&(s=!0),"class"===i.attributeName&&(e=!0)),"OPTGROUP"!==i.target.nodeName&&"OPTION"!==i.target.nodeName||(n=!0);e&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),s&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),n&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let t=[];const e=this.select.childNodes;for(const s of e)"OPTGROUP"===s.nodeName&&t.push(this.getDataFromOptgroup(s)),"OPTION"===s.nodeName&&t.push(this.getDataFromOption(s));return t}getDataFromOptgroup(t){let e={id:t.id,label:t.label,selectAll:!!t.dataset&&"true"===t.dataset.selectall,selectAllText:t.dataset?t.dataset.selectalltext:"Select all",closable:t.dataset?t.dataset.closable:"off",options:[]};const s=t.childNodes;for(const t of s)"OPTION"===t.nodeName&&e.options.push(this.getDataFromOption(t));return e}getDataFromOption(t){return{id:t.id,value:t.value,text:t.text,html:t.dataset&&t.dataset.html?t.dataset.html:"",selected:t.selected,display:"none"!==t.style.display,disabled:t.disabled,mandatory:!!t.dataset&&"true"===t.dataset.mandatory,placeholder:"true"===t.dataset.placeholder,class:t.className,style:t.style.cssText,data:t.dataset}}getSelectedValues(){let t=[];const e=this.select.childNodes;for(const s of e){if("OPTGROUP"===s.nodeName){const e=s.childNodes;for(const s of e)if("OPTION"===s.nodeName){const e=s;e.selected&&t.push(e.value)}}if("OPTION"===s.nodeName){const e=s;e.selected&&t.push(e.value)}}return t}setSelected(t){this.changeListen(!1);const e=this.select.childNodes;for(const s of e){if("OPTGROUP"===s.nodeName){const e=s.childNodes;for(const s of e)if("OPTION"===s.nodeName){const e=s;e.selected=t.includes(e.value)}}if("OPTION"===s.nodeName){const e=s;e.selected=t.includes(e.value)}}this.changeListen(!0)}updateSelect(t,e,s){this.changeListen(!1),t&&(this.select.dataset.id=t),e&&(this.select.style.cssText=e),s&&(this.select.className="",s.forEach(t=>{""!==t.trim()&&this.select.classList.add(t.trim())})),this.changeListen(!0)}updateOptions(t){this.changeListen(!1),this.select.innerHTML="";for(const e of t)e instanceof i&&this.select.appendChild(this.createOptgroup(e)),e instanceof o&&this.select.appendChild(this.createOption(e));this.select.dispatchEvent(new Event("change")),this.changeListen(!0)}createOptgroup(t){const e=document.createElement("optgroup");if(e.id=t.id,e.label=t.label,t.selectAll&&(e.dataset.selectAll="true"),"off"!==t.closable&&(e.dataset.closable=t.closable),t.options)for(const s of t.options)e.appendChild(this.createOption(s));return e}createOption(t){const e=document.createElement("option");return e.id=t.id,e.value=t.value,e.innerHTML=t.text,""!==t.html&&e.setAttribute("data-html",t.html),t.selected&&(e.selected=t.selected),t.disabled&&(e.disabled=!0),!1===t.display&&(e.style.display="none"),t.placeholder&&e.setAttribute("data-placeholder","true"),t.mandatory&&e.setAttribute("data-mandatory","true"),t.class&&t.class.split(" ").forEach(t=>{e.classList.add(t)}),t.data&&"object"==typeof t.data&&Object.keys(t.data).forEach(s=>{e.setAttribute("data-"+function(t){const e=t.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,t=>"-"+t.toLowerCase());return t[0]===t[0].toUpperCase()?e.substring(1):e}(s),t.data[s])}),e}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange.bind(this)),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}return class{constructor(t){var s;if(this.events={search:void 0,searchFilter:(t,e)=>-1!==t.text.toLowerCase().indexOf(e.toLowerCase()),addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=e(()=>{(this.settings.isOpen||this.settings.isFullOpen)&&this.render.moveContent()}),this.windowScroll=e(()=>{(this.settings.isOpen||this.settings.isFullOpen)&&this.render.moveContent()}),this.documentClick=t=>{this.settings.isOpen&&t.target&&!function(t,e){function s(t,s){return s&&t&&t.classList&&t.classList.contains(s)||s&&t&&t.dataset&&t.dataset.id&&t.dataset.id===e?t:null}return s(t,e)||function t(e,n){return e&&e!==document?s(e,n)?e:t(e.parentNode,n):null}(t,e)}(t.target,this.settings.id)&&this.close(t.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl="string"==typeof t.select?document.querySelector(t.select):t.select,!this.selectEl)return void(t.events&&t.events.error&&t.events.error(new Error("Could not find select element")));if("SELECT"!==this.selectEl.tagName)return void(t.events&&t.events.error&&t.events.error(new Error("Element isnt of type select")));this.selectEl.dataset.ssid&&this.destroy(),this.settings=new n(t.settings);const i=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const s in t.events)t.events.hasOwnProperty(s)&&(-1!==i.indexOf(s)?this.events[s]=e(t.events[s],100):this.events[s]=t.events[s]);this.settings.disabled=(null===(s=t.settings)||void 0===s?void 0:s.disabled)?t.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new l(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=t=>{this.setSelected(t)},this.select.onClassChange=t=>{this.settings.class=t,this.render.updateClassStyles()},this.select.onDisabledChange=t=>{t?this.disable():this.enable()},this.select.onOptionsChange=t=>{this.setData(t)},this.store=new r(this.settings.isMultiple?"multiple":"single",t.data?t.data:this.select.getData()),t.data&&this.select.updateOptions(this.store.getData());const o={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new a(this.settings,this.store,o),this.render.renderValues(),this.render.renderOptions(this.store.getData());const c=this.selectEl.getAttribute("aria-label"),d=this.selectEl.getAttribute("aria-labelledby");c?this.render.main.main.setAttribute("aria-label",c):d&&this.render.main.main.setAttribute("aria-labelledby",d),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),document.addEventListener("click",this.documentClick),window.addEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(t){const e=this.store.getSelected(),n=this.store.validateDataArray(t);if(n)return void(this.events.error&&this.events.error(n));this.store.setData(t);const i=this.store.getData();this.select.updateOptions(i),this.render.renderValues(),this.render.renderOptions(i),this.events.afterChange&&!s(e,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){return this.store.getSelected()}setSelected(t,e=!0){const n=this.store.getSelected();this.store.setSelectedBy("value",Array.isArray(t)?t:[t]);const i=this.store.getData();this.select.updateOptions(i),this.render.renderValues(),""!==this.render.content.search.input.value?this.search(this.render.content.search.input.value):this.render.renderOptions(i),e&&this.events.afterChange&&!s(n,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(t){const e=this.store.getSelected();this.store.getDataOptions().some(e=>{var s;return e.value===(null!==(s=t.value)&&void 0!==s?s:t.text)})||this.store.addOption(t);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!s(e,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0)},this.settings.timeoutDelay),"absolute"===this.settings.contentPosition&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(t=null){this.settings.isOpen&&!this.settings.alwaysOpen&&(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),""!==this.render.content.search.input.value&&this.search(""),this.render.mainFocus(t),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose()},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(t){if(this.render.content.search.input.value!==t&&(this.render.content.search.input.value=t),!this.events.search)return void this.render.renderOptions(""===t?this.store.getData():this.store.search(t,this.events.searchFilter));this.render.renderSearching();const e=this.events.search(t,this.store.getSelectedOptions());e instanceof Promise?e.then(t=>{this.render.renderOptions(this.store.partialToFullData(t))}).catch(t=>{this.render.renderError("string"==typeof t?t:t.message)}):Array.isArray(e)?this.render.renderOptions(this.store.partialToFullData(e)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}}));